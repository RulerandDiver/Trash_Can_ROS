<launch>
    <arg name="camera_name" default="ob_camera"/>
    <arg name="3d_sensor" default="gemini2"/>
    <arg name="camera1_prefix" default="01"/>
    <arg name="camera2_prefix" default="02"/>
    <arg name="camera3_prefix" default="03"/>
    <arg name="camera1_serial_number" default="AY3JB20001F"/>
    <arg name="camera2_serial_number" default="AY3JB200048"/>
    <arg name="camera3_serial_number" default="AY3JB20003C"/>

    <arg name="device_num" default="2"/>
    <node name="camera" pkg="orbbec_camera" type="ob_cleanup_shm_node" output="screen"/>
    <include file="$(find orbbec_camera)/launch/$(arg 3d_sensor).launch">
        <arg name="camera_name" value="$(arg camera_name)_$(arg camera1_prefix)"/>
        <arg name="serial_number" value="$(arg camera1_serial_number)"/>
        <arg name="device_num" value="$(arg device_num)"/>
        <arg name="sync_mode" value="primary_mcu_trigger"/>
        <arg name="ir_trigger_signal_in_delay" default="160"/>
        <arg name="rgb_trigger_signal_in_delay" default="0"/>
        <arg name="device_trigger_signal_out_delay" default="0"/>
    </include>

    <include file="$(find orbbec_camera)/launch/$(arg 3d_sensor).launch">
        <arg name="camera_name" value="$(arg camera_name)_$(arg camera2_prefix)"/>
        <arg name="serial_number" value="$(arg camera2_serial_number)"/>
        <arg name="device_num" value="$(arg device_num)"/>
        <arg name="sync_mode" value="secondary"/>
        <arg name="ir_trigger_signal_in_delay" default="0"/>
        <arg name="rgb_trigger_signal_in_delay" default="0"/>
        <arg name="device_trigger_signal_out_delay" default="0"/>
    </include>
    <include file="$(find orbbec_camera)/launch/$(arg 3d_sensor).launch">
        <arg name="camera_name" value="$(arg camera_name)_$(arg camera3_prefix)"/>
        <arg name="serial_number" value="$(arg camera3_serial_number)"/>
        <arg name="device_num" value="$(arg device_num)"/>
        <arg name="sync_mode" value="secondary"/>
        <arg name="ir_trigger_signal_in_delay" default="0"/>
        <arg name="rgb_trigger_signal_in_delay" default="0"/>
        <arg name="device_trigger_signal_out_delay" default="0"/>
    </include>
    <node pkg="tf2_ros" type="static_transform_publisher" name="camera_tf"
          args="0 0 0 0 0 0 camera01_link camera02_link"/>
</launch>
